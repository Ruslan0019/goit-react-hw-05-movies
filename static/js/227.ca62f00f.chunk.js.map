{"version":3,"file":"static/js/227.ca62f00f.chunk.js","mappings":"kOA2DA,UAtDe,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MAEjBC,GAAsCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAClCI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAElBG,GAAeC,EAAAA,EAAAA,aAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAC9B,SAAAC,EAAMC,GAAK,IAAAC,EAAAC,EAAA,OAAAJ,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GACaC,EAAAA,EAAAA,IAAYN,GAAO,KAAD,EAAlCC,EAAOE,EAAAI,KACbd,EAAUQ,IAEJC,EAAc,IAAIM,gBAAgB1B,EAAS2B,SACrCC,IAAI,QAASV,GAEzBW,OAAOC,QAAQC,UACb,CAAC,EACD,GAAG,GAADC,OACCH,OAAO7B,SAASiC,SAAQ,KAAAD,OAAIZ,EAAYc,aAC3C,wBAAAb,EAAAc,OAAA,GAAAlB,EAAA,KACH,gBAAAmB,GAAA,OAAAtB,EAAAuB,MAAA,KAAAC,UAAA,EAb6B,GAc9B,CAACtC,EAAS2B,UAGZY,EAAAA,EAAAA,YAAU,WACR,IACMC,EADc,IAAId,gBAAgB1B,EAAS2B,QAChBc,IAAI,UAAY,GACjDlC,EAAeiC,GAEXA,GACF5B,EAAa4B,EAEjB,GAAG,CAACxC,EAAS2B,OAAQf,IAQrB,OACE8B,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,KAAK,OACLC,MAAOxC,EACPyC,SAAU,SAAAC,GAAC,OAAIzC,EAAeyC,EAAEC,OAAOH,MAAM,EAC7CI,WAZiB,SAAAF,GACP,UAAVA,EAAEG,KACJvC,EAAaN,EAEjB,KAUIsC,EAAAA,EAAAA,KAAA,UAAQQ,QAAS,kBAAMxC,EAAaN,EAAY,EAACqC,SAAC,WAEjDjC,EAAO2C,OAAS,IAAKT,EAAAA,EAAAA,KAACU,EAAAA,EAAS,CAAC5C,OAAQA,MAG/C,C,sLCrDM6C,EAAa,gCAEbC,EAAyB,WAAH,MAAU,CACpCC,OAAQ,mBACRC,cAAc,UAAD1B,OANb,uNAOD,EAEK2B,EAAiB,SAAAC,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,sCAElB,OAAOF,EAASG,MAClB,EAEMvC,EAAW,eAAAV,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMX,GAAW,IAAA0D,EAAAJ,EAAA,OAAA5C,IAAAA,MAAA,SAAAK,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAIlC,OAHKyC,EAAU,CACdC,OAAQ,MACRC,QAASV,KACVnC,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGwB4C,MAAM,GAADnC,OACvBuB,EAAU,uBAAAvB,OAAsB1B,EAAW,8CAC9C0D,GACA,KAAD,EAHa,OAARJ,EAAQvC,EAAAI,KAAAJ,EAAA+C,OAAA,SAIPT,EAAeC,GAAUS,MAAK,SAAAC,GAAI,OAAIA,EAAKnD,OAAO,KAAC,OAE5B,OAF4BE,EAAAC,KAAA,EAAAD,EAAAkD,GAAAlD,EAAA,SAE1DmD,QAAQC,MAAM,QAAOpD,EAAAkD,IAASlD,EAAA+C,OAAA,SACvB,IAAE,yBAAA/C,EAAAc,OAAA,GAAAlB,EAAA,kBAEZ,gBAhBgBmB,GAAA,OAAAtB,EAAAuB,MAAA,KAAAC,UAAA,KAkBXoC,EAAmB,eAAAC,GAAA5D,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA4D,IAAA,IAAAZ,EAAAJ,EAAA,OAAA5C,IAAAA,MAAA,SAAA6D,GAAA,cAAAA,EAAAvD,KAAAuD,EAAAtD,MAAA,OAIzB,OAHKyC,EAAU,CACdC,OAAQ,MACRC,QAASV,KACVqB,EAAAvD,KAAA,EAAAuD,EAAAtD,KAAA,EAGwB4C,MAAM,GAADnC,OACvBuB,EAAU,mCACbS,GACA,KAAD,EAHa,OAARJ,EAAQiB,EAAApD,KAAAoD,EAAAT,OAAA,SAIPT,EAAeC,IAAS,OAED,OAFCiB,EAAAvD,KAAA,EAAAuD,EAAAN,GAAAM,EAAA,SAE/BL,QAAQC,MAAM,QAAOI,EAAAN,IAASM,EAAAT,OAAA,SACvB,MAAI,yBAAAS,EAAA1C,OAAA,GAAAyC,EAAA,kBAEd,kBAhBwB,OAAAD,EAAAtC,MAAA,KAAAC,UAAA,KAkBnBwC,EAAiB,eAAAC,GAAAhE,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAgE,EAAMC,GAAO,IAAAjB,EAAAJ,EAAA,OAAA5C,IAAAA,MAAA,SAAAkE,GAAA,cAAAA,EAAA5D,KAAA4D,EAAA3D,MAAA,OAIpC,OAHKyC,EAAU,CACdC,OAAQ,MACRC,QAASV,KACV0B,EAAA5D,KAAA,EAAA4D,EAAA3D,KAAA,EAGwB4C,MAAM,GAADnC,OACvBuB,EAAU,UAAAvB,OAASiD,EAAO,mBAC7BjB,GACA,KAAD,EAHa,OAARJ,EAAQsB,EAAAzD,KAAAyD,EAAAd,OAAA,SAIPT,EAAeC,IAAS,OAED,OAFCsB,EAAA5D,KAAA,EAAA4D,EAAAX,GAAAW,EAAA,SAE/BV,QAAQC,MAAM,QAAOS,EAAAX,IAASW,EAAAd,OAAA,SACvB,CAAC,GAAC,yBAAAc,EAAA/C,OAAA,GAAA6C,EAAA,kBAEZ,gBAhBsBG,GAAA,OAAAJ,EAAA1C,MAAA,KAAAC,UAAA,KAkBjB8C,EAAiB,eAAAC,GAAAtE,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAsE,EAAML,GAAO,IAAAjB,EAAAJ,EAAA,OAAA5C,IAAAA,MAAA,SAAAuE,GAAA,cAAAA,EAAAjE,KAAAiE,EAAAhE,MAAA,OAIpC,OAHKyC,EAAU,CACdC,OAAQ,MACRC,QAASV,KACV+B,EAAAjE,KAAA,EAAAiE,EAAAhE,KAAA,EAGwB4C,MAAM,GAADnC,OACvBuB,EAAU,UAAAvB,OAASiD,EAAO,kCAC7BjB,GACA,KAAD,EAHa,OAARJ,EAAQ2B,EAAA9D,KAAA8D,EAAAnB,OAAA,SAIPT,EAAeC,IAAS,OAED,OAFC2B,EAAAjE,KAAA,EAAAiE,EAAAhB,GAAAgB,EAAA,SAE/Bf,QAAQC,MAAM,QAAOc,EAAAhB,IAASgB,EAAAnB,OAAA,SACvB,CAAC,GAAC,yBAAAmB,EAAApD,OAAA,GAAAmD,EAAA,kBAEZ,gBAhBsBE,GAAA,OAAAH,EAAAhD,MAAA,KAAAC,UAAA,KAiBjBmD,EAAc,eAAAC,GAAA3E,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAA2E,EAAMV,GAAO,IAAAjB,EAAAJ,EAAA,OAAA5C,IAAAA,MAAA,SAAA4E,GAAA,cAAAA,EAAAtE,KAAAsE,EAAArE,MAAA,OAIjC,OAHKyC,EAAU,CACdC,OAAQ,MACRC,QAASV,KACVoC,EAAAtE,KAAA,EAAAsE,EAAArE,KAAA,EAEwB4C,MAAM,GAADnC,OACvBuB,EAAU,UAAAvB,OAASiD,EAAO,2BAC7BjB,GACA,KAAD,EAHa,OAARJ,EAAQgC,EAAAnE,KAAAmE,EAAAxB,OAAA,SAIPT,EAAeC,IAAS,OAED,OAFCgC,EAAAtE,KAAA,EAAAsE,EAAArB,GAAAqB,EAAA,SAE/BpB,QAAQC,MAAM,QAAOmB,EAAArB,IAASqB,EAAAxB,OAAA,SACvB,CAAC,GAAC,yBAAAwB,EAAAzD,OAAA,GAAAwD,EAAA,kBAEZ,gBAfmBE,GAAA,OAAAH,EAAArD,MAAA,KAAAC,UAAA,I,kDCrEpB,IAjBkB,SAAHxB,GAAA,IAAMJ,EAAMI,EAANJ,OAAM,OACzBkC,EAAAA,EAAAA,KAAA,MAAAD,SACGjC,EAAOoF,KAAI,SAAAC,GAAK,OACfnD,EAAAA,EAAAA,KAACoD,EAAAA,GAAI,CAEHC,GAAE,WAAAjE,OAAa+D,EAAMG,IACrBC,MAAO,CACLC,QAAS,QACTC,aAAc,IACd1D,SAEDoD,EAAMO,OAASP,EAAMQ,MAPjBR,EAAMG,GAQN,KAEN,C,sBCjBP,SAASM,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ1D,EAAK2D,GACpE,IACE,IAAIC,EAAON,EAAItD,GAAK2D,GAChBhE,EAAQiE,EAAKjE,KAInB,CAHE,MAAO2B,GAEP,YADAkC,EAAOlC,EAET,CAEIsC,EAAKC,KACPN,EAAQ5D,GAERmE,QAAQP,QAAQ5D,GAAOuB,KAAKuC,EAAOC,EAEvC,CAEe,SAAS9F,EAAkBmG,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAO/E,UACX,OAAO,IAAI2E,SAAQ,SAAUP,EAASC,GACpC,IAAIF,EAAMS,EAAG7E,MAAM8E,EAAME,GAEzB,SAAST,EAAM9D,GACb0D,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQ/D,EAClE,CAEA,SAAS+D,EAAOS,GACdd,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASS,EACnE,CAEAV,OAAMW,EACR,GACF,CACF,C","sources":["Pages/MoviesPage.jsx","api/api.js","components/MovieList/MovieList.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport MovieList from '../components/MovieList/MovieList';\nimport { fetchMovies } from 'api/api';\n\nconst Movies = () => {\n  const location = useLocation();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n\n  const handleSearch = useCallback(\n    async query => {\n      const results = await fetchMovies(query);\n      setMovies(results);\n\n      const queryParams = new URLSearchParams(location.search);\n      queryParams.set('query', query);\n\n      window.history.pushState(\n        {},\n        '',\n        `${window.location.pathname}?${queryParams.toString()}`\n      );\n    },\n    [location.search]\n  );\n\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const queryFromURL = queryParams.get('query') || '';\n    setSearchQuery(queryFromURL);\n\n    if (queryFromURL) {\n      handleSearch(queryFromURL);\n    }\n  }, [location.search, handleSearch]);\n\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearch(searchQuery);\n    }\n  };\n\n  return (\n    <div>\n      <input\n        type=\"text\"\n        value={searchQuery}\n        onChange={e => setSearchQuery(e.target.value)}\n        onKeyPress={handleKeyPress}\n      />\n      <button onClick={() => handleSearch(searchQuery)}>Search</button>\n\n      {movies.length > 0 && <MovieList movies={movies} />}\n    </div>\n  );\n};\n\nexport default Movies;\n","// api.js\nconst apiKey =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiMmM4ZmNlODBkNWY2YWRhNDI2MmIyY2Q0OTQwNTY1MiIsInN1YiI6IjY1NDIzNzExMWFjMjkyMDBlMTE4NGQyNCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.z31pb3WMAG3QsgPH8x9AM27sCQZfGvUnbyhPmGdRJT0';\n\nconst apiBaseURL = 'https://api.themoviedb.org/3/';\n\nconst getAuthorizationHeader = () => ({\n  accept: 'application/json',\n  Authorization: `Bearer ${apiKey}`,\n});\n\nconst handleResponse = response => {\n  if (!response.ok) {\n    throw new Error('the network response was not valid');\n  }\n  return response.json();\n};\n\nconst fetchMovies = async searchQuery => {\n  const options = {\n    method: 'GET',\n    headers: getAuthorizationHeader(),\n  };\n\n  try {\n    const response = await fetch(\n      `${apiBaseURL}search/movie?query=${searchQuery}&include_adult=false&language=en-US&page=1`,\n      options\n    );\n    return handleResponse(response).then(data => data.results);\n  } catch (error) {\n    console.error('error', error);\n    return [];\n  }\n};\n\nconst fetchTrendingMovies = async () => {\n  const options = {\n    method: 'GET',\n    headers: getAuthorizationHeader(),\n  };\n\n  try {\n    const response = await fetch(\n      `${apiBaseURL}trending/all/day?language=en-US`,\n      options\n    );\n    return handleResponse(response);\n  } catch (error) {\n    console.error('error', error);\n    return null;\n  }\n};\n\nconst fetchMovieDetails = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: getAuthorizationHeader(),\n  };\n\n  try {\n    const response = await fetch(\n      `${apiBaseURL}movie/${movieId}?language=en-US`,\n      options\n    );\n    return handleResponse(response);\n  } catch (error) {\n    console.error('error', error);\n    return {};\n  }\n};\n\nconst fetchMovieReviews = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: getAuthorizationHeader(),\n  };\n\n  try {\n    const response = await fetch(\n      `${apiBaseURL}movie/${movieId}/reviews?language=en-US&page=1`,\n      options\n    );\n    return handleResponse(response);\n  } catch (error) {\n    console.error('error', error);\n    return {};\n  }\n};\nconst fetchMovieCast = async movieId => {\n  const options = {\n    method: 'GET',\n    headers: getAuthorizationHeader(),\n  };\n  try {\n    const response = await fetch(\n      `${apiBaseURL}movie/${movieId}/credits?language=en-US`,\n      options\n    );\n    return handleResponse(response);\n  } catch (error) {\n    console.error('error', error);\n    return {};\n  }\n};\n\nexport {\n  fetchMovies,\n  fetchTrendingMovies,\n  fetchMovieDetails,\n  fetchMovieReviews,\n  fetchMovieCast,\n};\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst MovieList = ({ movies }) => (\n  <ul>\n    {movies.map(movie => (\n      <Link\n        key={movie.id}\n        to={`/movies/${movie.id}`}\n        style={{\n          display: 'block',\n          marginBottom: 20,\n        }}\n      >\n        {movie.title || movie.name}\n      </Link>\n    ))}\n  </ul>\n);\n\nexport default MovieList;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["location","useLocation","_useState","useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","movies","setMovies","handleSearch","useCallback","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","query","results","queryParams","_context","prev","next","fetchMovies","sent","URLSearchParams","search","set","window","history","pushState","concat","pathname","toString","stop","_x","apply","arguments","useEffect","queryFromURL","get","_jsxs","children","_jsx","type","value","onChange","e","target","onKeyPress","key","onClick","length","MovieList","apiBaseURL","getAuthorizationHeader","accept","Authorization","handleResponse","response","ok","Error","json","options","method","headers","fetch","abrupt","then","data","t0","console","error","fetchTrendingMovies","_ref2","_callee2","_context2","fetchMovieDetails","_ref3","_callee3","movieId","_context3","_x2","fetchMovieReviews","_ref4","_callee4","_context4","_x3","fetchMovieCast","_ref5","_callee5","_context5","_x4","map","movie","Link","to","id","style","display","marginBottom","title","name","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","fn","self","this","args","err","undefined"],"sourceRoot":""}